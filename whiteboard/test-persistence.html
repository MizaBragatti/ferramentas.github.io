<!DOCTYPE html>
<html lang="pt-BR">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Teste de Persistência</title>
</head>
<body>
    <h1>Teste de Persistência do Whiteboard</h1>
    <p>Abra o console do navegador para ver os logs.</p>
    
    <script>
        // Teste simples da persistência
        const saveKey = 'whiteboard_data';
        
        // Salvar dados de teste
        const testData = {
            objects: [
                {
                    type: 'rectangle',
                    x: 100,
                    y: 100,
                    width: 50,
                    height: 30,
                    color: '#000000'
                }
            ],
            scale: 1,
            offsetX: 0,
            offsetY: 0,
            showGrid: false,
            timestamp: Date.now()
        };
        
        console.log('Salvando dados de teste...');
        localStorage.setItem(saveKey, JSON.stringify(testData));
        
        // Verificar se foi salvo
        const saved = localStorage.getItem(saveKey);
        if (saved) {
            const parsed = JSON.parse(saved);
            console.log('Dados salvos com sucesso:', parsed);
            console.log('Número de objetos:', parsed.objects.length);
        } else {
            console.error('Falha ao salvar dados!');
        }
        
        // Limpar após teste
        setTimeout(() => {
            console.log('Limpando dados de teste...');
            localStorage.removeItem(saveKey);
            console.log('Dados limpos.');
        }, 5000);
    </script>
</body>
</html>